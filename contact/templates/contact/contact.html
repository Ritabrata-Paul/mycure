{% extends "base.html" %}
{% load static %}
{% block title %}Contact Us - MyCure{% endblock %}
{% block extra_css %}
  <!-- Custom CSS for contact page -->
  <style>
    :root {
      --primary: #3e64ff;
      --secondary: #1e3a8a;
      --success: #10b981;
      --info: #0ea5e9;
      --warning: #f59e0b;
      --danger: #ef4444;
      --light: #f3f4f6;
      --dark: #1f2937;
    }
    
    .contact-header {
      background: linear-gradient(rgba(62, 100, 255, 0.9), rgba(30, 58, 138, 0.8)), url('https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80') no-repeat center center;
      background-size: cover;
      color: white;
      padding: 60px 0;
      margin-bottom: 40px;
    }
    
    .contact-header h1 {
      font-size: 2.8rem;
      font-weight: 700;
    }
    
    .contact-form-container {
      background-color: #fff;
      border-radius: 12px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.08);
      padding: 40px;
      margin-bottom: 50px;
    }
    
    .contact-info-card {
      background-color: #fff;
      border-radius: 12px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.08);
      padding: 30px;
      height: 100%;
      transition: all 0.3s ease;
    }
    
    .contact-info-card:hover {
      transform: translateY(-5px);
    }
    
    .contact-icon {
      height: 60px;
      width: 60px;
      line-height: 60px;
      border-radius: 50%;
      background: rgba(62, 100, 255, 0.1);
      color: var(--primary);
      text-align: center;
      font-size: 1.5rem;
      margin-bottom: 20px;
    }
    
    .contact-form-container label {
      font-weight: 500;
      margin-bottom: 8px;
    }
    
    .contact-form-container .form-control {
      border-radius: 8px;
      padding: 12px 15px;
      border: 1px solid #e2e8f0;
    }
    
    .contact-form-container .form-control:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 0.25rem rgba(62, 100, 255, 0.25);
    }
    
    .contact-form-container textarea.form-control {
      min-height: 150px;
    }
    
    .btn-submit {
      background-color: var(--primary);
      border-color: var(--primary);
      color: white;
      padding: 12px 30px;
      font-size: 16px;
      font-weight: 500;
      border-radius: 8px;
      transition: all 0.3s ease;
    }
    
    .btn-submit:hover {
      background-color: var(--secondary);
      border-color: var(--secondary);
      transform: translateY(-2px);
    }
    
    .text-primary {
      color: var(--primary) !important;
    }
    
    .alert {
      border-radius: 8px;
      padding: 15px 20px;
      margin-bottom: 25px;
    }
    
    /* Make form elements match your styles */
    #id_name, #id_email, #id_subject, #id_message {
      width: 100%;
      padding: 12px 15px;
      border-radius: 8px;
      border: 1px solid #e2e8f0;
      font-size: 16px;
    }
    
    #id_message {
      min-height: 150px;
    }
    
    /* Map container */
    .map-container {
      margin-top: 30px;
      height: 300px;
      position: relative;
      overflow: hidden;
      border-radius: 12px;
    }
    
    /* FAQ Section */
    .faq-section {
      background-color: #f8f9fa;
      padding: 60px 0;
      margin-top: 40px;
    }
    
    .faq-item {
      background: white;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      margin-bottom: 15px;
      overflow: hidden;
    }
    
    .faq-question {
      padding: 20px;
      position: relative;
      cursor: pointer;
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .faq-answer {
      padding: 0 20px 20px;
    }
    
    .section-header h2 {
      font-size: 2.2rem;
      font-weight: 700;
      position: relative;
      padding-bottom: 15px;
      margin-bottom: 30px;
    }
    
    .section-header h2:after {
      content: '';
      position: absolute;
      left: 0;
      bottom: 0;
      height: 4px;
      width: 70px;
      background-color: var(--primary);
    }
    
    .section-header.text-center h2:after {
      left: 50%;
      transform: translateX(-50%);
    }
  </style>
{% endblock %}
{% block content %}
<!-- Contact Header Section -->
<section class="contact-header">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 mx-auto text-center">
        <h1 class="mb-3">Get In Touch</h1>
        <p class="lead opacity-90">We'd love to hear from you. Let us know how we can help.</p>
      </div>
    </div>
  </div>
</section>
<div class="container">
  <!-- Alert Messages -->
  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
        <i class="fas {% if message.tags == 'success' %}fa-check-circle{% else %}fa-exclamation-circle{% endif %} me-2"></i>
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endfor %}
  {% endif %}
  <!-- Contact Main Content -->
  <div class="row">
    <!-- Contact Form -->
    <div class="col-lg-8 mb-4 mb-lg-0">
      <div class="contact-form-container">
        <h3 class="mb-4">Send us a Message</h3>
        <form method="POST" novalidate>
          {% csrf_token %}
          <div class="mb-3">
            {{ form.name.label_tag }}
            {{ form.name }}
            {% if form.name.errors %}
              <div class="text-danger mt-2">
                <i class="fas fa-exclamation-circle me-1"></i>
                {{ form.name.errors }}
              </div>
            {% endif %}
          </div>
          <div class="mb-3">
            {{ form.email.label_tag }}
            {{ form.email }}
            {% if form.email.errors %}
              <div class="text-danger mt-2">
                <i class="fas fa-exclamation-circle me-1"></i>
                {{ form.email.errors }}
              </div>
            {% endif %}
          </div>
          <div class="mb-3">
            {{ form.subject.label_tag }}
            {{ form.subject }}
            {% if form.subject.errors %}
              <div class="text-danger mt-2">
                <i class="fas fa-exclamation-circle me-1"></i>
                {{ form.subject.errors }}
              </div>
            {% endif %}
          </div>
          <div class="mb-4">
            {{ form.message.label_tag }}
            {{ form.message }}
            {% if form.message.errors %}
              <div class="text-danger mt-2">
                <i class="fas fa-exclamation-circle me-1"></i>
                {{ form.message.errors }}
              </div>
            {% endif %}
          </div>
          <button type="submit" class="btn btn-submit">
            <i class="fas fa-paper-plane me-2"></i>Send Message
          </button>
        </form>
      </div>
    </div>
    
    <!-- Contact Information -->
    <div class="col-lg-4">
      <div class="contact-info-card mb-4">
        <div class="contact-icon">
          <i class="fas fa-map-marker-alt"></i>
        </div>
        <h4 class="h5 mb-3">Visit Us</h4>
        <p class="text-muted mb-0">123 Healthcare Avenue, Salt Lake City<br>Kolkata, West Bengal 700091</p>
        <div class="contact-icon">
          <i class="fas fa-phone-alt"></i>
        </div>
        <h4 class="h5 mb-3">Call Us</h4>
        <p class="text-muted mb-1">General Inquiries: <a href="tel:+91-800-123-4567" class="text-primary">(800) 123-4567</a></p>
        <p class="text-muted mb-0">Support: <a href="tel:+91-800-123-4568" class="text-primary">(800) 123-4568</a></p>
        <div class="contact-icon">
          <i class="fas fa-envelope"></i>
        </div>
        <h4 class="h5 mb-3">Email Us</h4>
        <p class="text-muted mb-1">Information: <a href="mailto:info@mycure.com" class="text-primary">info@mycure.com</a></p>
        <p class="text-muted mb-0">Support: <a href="mailto:support@mycure.com" class="text-primary">support@mycure.com</a></p>
        <div class="contact-icon">
          <i class="fas fa-clock"></i>
        </div>
        <h4 class="h5 mb-3">Office Hours</h4>
        <p class="text-muted mb-1">Monday - Friday: 9:00 AM - 5:00 PM</p>
        <p class="text-muted mb-0">Saturday - Sunday: Closed</p>
      </div>
      
      
      
    </div>
  </div>
  
  <!-- Map Section -->
  <div class="map-container">
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d117925.35231066123!2d88.26495071479734!3d22.535565577528566!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39f882db4908f667%3A0x43e330e68f6c2cbc!2sKolkata%2C%20West%20Bengal!5e0!3m2!1sen!2sin!4v1684300845879!5m2!1sen!2sin" 
            width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
  </div>
</div>
<!-- FAQ Section -->
<section class="faq-section">
  <div class="container">
    <div class="row justify-content-center mb-5">
      <div class="col-lg-8 text-center">
        <div class="section-header text-center">
          <span class="badge bg-primary rounded-pill px-3 py-2 mb-3 fw-normal">Help Center</span>
          <h2>Frequently Asked Questions</h2>
          <p class="text-muted">Find answers to common questions about our services.</p>
        </div>
      </div>
    </div>
    
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="accordion" id="faqAccordion">
          <!-- FAQ Item 1 -->
          <div class="faq-item">
            <h3 class="faq-question" data-bs-toggle="collapse" data-bs-target="#faq1">
              How do I book an appointment?
              <i class="fas fa-chevron-down"></i>
            </h3>
            <div id="faq1" class="collapse show" data-bs-parent="#faqAccordion">
              <div class="faq-answer text-muted">
                To book an appointment, simply create an account, search for your preferred healthcare provider or facility, 
                select an available time slot that works for you, and confirm your booking. You'll receive a confirmation 
                email with all the details of your appointment.
              </div>
            </div>
          </div>
          
          <!-- FAQ Item 2 -->
          <div class="faq-item">
            <h3 class="faq-question" data-bs-toggle="collapse" data-bs-target="#faq2">
              Can I cancel or reschedule my appointment?
              <i class="fas fa-chevron-down"></i>
            </h3>
            <div id="faq2" class="collapse" data-bs-parent="#faqAccordion">
              <div class="faq-answer text-muted">
                Yes, you can cancel or reschedule your appointment through your MyCure account. Please note that 
                some providers have specific cancellation policies, and you may need to cancel at least 24-48 hours 
                in advance to avoid any cancellation fees.
              </div>
            </div>
          </div>
          
          <!-- FAQ Item 3 -->
          <div class="faq-item">
            <h3 class="faq-question" data-bs-toggle="collapse" data-bs-target="#faq3">
              How do I get my test results?
              <i class="fas fa-chevron-down"></i>
            </h3>
            <div id="faq3" class="collapse" data-bs-parent="#faqAccordion">
              <div class="faq-answer text-muted">
                Your test results will be available in your MyCure account once they've been processed. You'll receive 
                a notification when they're ready. You can view and download your results directly from your profile, 
                and they will also be available to your healthcare provider.
              </div>
            </div>
          </div>
          
          <!-- FAQ Item 4 -->
          <div class="faq-item">
            <h3 class="faq-question" data-bs-toggle="collapse" data-bs-target="#faq4">
              Is my personal information secure?
              <i class="fas fa-chevron-down"></i>
            </h3>
            <div id="faq4" class="collapse" data-bs-parent="#faqAccordion">
              <div class="faq-answer text-muted">
                Yes, we take your privacy seriously. All personal and medical information is encrypted and stored 
                securely according to HIPAA regulations. We never share your personal information with third parties 
                without your explicit consent.
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<!-- Custom script for accordion icons -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const accordionItems = document.querySelectorAll('.faq-question');
    
    accordionItems.forEach(item => {
      // Set initial state
      const isExpanded = item.getAttribute('aria-expanded') !== 'false';
      const icon = item.querySelector('i');
      icon.className = isExpanded ? 'fas fa-chevron-up' : 'fas fa-chevron-down';
      
      // Add event listener
      item.addEventListener('click', function() {
        const icon = this.querySelector('i');
        // Toggle icon
        if (icon.classList.contains('fa-chevron-down')) {
          icon.className = 'fas fa-chevron-up';
        } else {
          icon.className = 'fas fa-chevron-down';
        }
      });
    });
    
    // Also update icons when Bootstrap events fire
    const collapseElements = document.querySelectorAll('.collapse');
    collapseElements.forEach(element => {
      element.addEventListener('show.bs.collapse', function() {
        const question = document.querySelector(`[data-bs-target="#${this.id}"]`);
        const icon = question.querySelector('i');
        icon.className = 'fas fa-chevron-up';
      });
      
      element.addEventListener('hide.bs.collapse', function() {
        const question = document.querySelector(`[data-bs-target="#${this.id}"]`);
        const icon = question.querySelector('i');
        icon.className = 'fas fa-chevron-down';
      });
    });
  });
</script>
{% endblock %}